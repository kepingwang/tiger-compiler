Translation to Intermediate Representation.

Chapter 6 and 7 for the book.
